<% header_type 'public-inspection' %>
<% page_title "Public Inspection List #{@regular_filings_presenter.date}" %>

<%= title title_bar_class: "public-inspection" do %>
  <%= fr_icon 'clipboard' %>
  <%= @regular_filings_presenter.date %> Public Inspection List
<% end %>

<%= bootstrap_context_wrapper do %>
  <div class="row">
    <div class="col-xs-12 col-md-12">
      <%= esi issue_summary_path(
        path: 'pi',
        date: @presenter.date.to_s(:iso)
      ) %>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-9 col-md-9 doc-content doc-toc">
      <%= render partial: 'info_box' %>
    </div>
    <div class="col-xs-3 col-md-3 doc-subscribe">
      <div class="row">
        <div class="col-xs-12 col-md-12">
          <%= subscribe_box(search_type: 'PublicInspectionDocument') %>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-md-12">
          <%= esi public_inspection_issues_by_month_path(
            @presenter.date.strftime('%Y'),
            @presenter.date.strftime('%m'),
            current_date: @presenter.date.to_s(:iso)
          ) %>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-9 col-md-9 doc-toc">
      <%= fr_box "Special Filing Table of Contents",
        :public_inspection,
        header: {
          seal: true,
          description: "<p>Public Inspection documents are unpublished documents.
            Click #{link_to 'here', public_inspection_learn_path} to learn
            more about Public Inspection.</p>
            <p>Special Filing documents are filed at various times and/or
            dates prior to publication.</p>"
        } do %>
        <span class="icon-fr2 icon-fr2-stop-hand doc-background"></span>

        <div class="doc doc-document-issue">
          <h1 id="special-filing">
            Special Filing
            <span class="updated_at">
              updated at
              <%= @presenter.special_filings.formatted_updated_at %>
            </span>
          </h1>

          <%= render partial: 'issues/table_of_contents',
            locals: {
              type: "special-filing",
              agencies: @special_filings_presenter.agencies,
              document_partial: @special_filings_presenter.document_partial
            } %>
        </div>
      <% end %>
    </div>

    <div class="col-xs-3 col-md-3 doc-toc-nav">
      <%= fr_box_small "Special Filing Agencies", :public_inspection_doc_details, header: {hover: false} do %>
        <%= render partial: 'issues/toc_agency_nav',
          locals: {
            type: 'special-filing',
            agencies: @special_filings_presenter.agencies
          } %>
      <% end %>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-9 col-md-9 doc-toc">
      <%= fr_box "Regular Filing Table of Contents",
        :public_inspection,
        header: {
          seal: true,
          description: "<p>Public Inspection documents are unpublished documents.
            Click #{link_to 'here', public_inspection_learn_path} to learn
            more about Public Inspection.</p>
            <p>Regular Filing documents are routinely placed on file at
            8:45 a.m. Eastern Time, for publication in the next dayâ€™s
            Federal Register.</p>"
        } do %>
        <span class="icon-fr2 icon-fr2-stop-hand doc-background"></span>

        <div class="doc doc-document-issue">
          <h1 id="regular-filing">
            Regular Filing
            <span class="updated_at">
              updated at
              <%= @presenter.regular_filings.formatted_updated_at %>
            </span>
          </h1>

          <%= render partial: 'issues/table_of_contents',
            locals: {
              type: "regular-filing",
              agencies: @regular_filings_presenter.agencies,
              document_partial: @regular_filings_presenter.document_partial
            } %>
        </div>
      <% end %>
    </div>

    <div class="col-xs-3 col-md-3 doc-toc-nav">
      <%= fr_box_small "Regular Filing Agencies", :public_inspection_doc_details, header: {hover: false} do %>
        <%= render partial: 'issues/toc_agency_nav',
          locals: {
            type: 'regular-filing',
            agencies: @regular_filings_presenter.agencies
          } %>
      <% end %>
    </div>
  </div>

  <div class="clearfix" style="height: 100px;"></div>
<% end %>
