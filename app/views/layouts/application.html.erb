<!DOCTYPE html>
  <head>
    <title>
      Federal Register
      <%= " :: " unless yield(:page_title).empty? %>
      <%= yield(:page_title) %>
    </title>

    <!-- Tell search engines to use the proper hostname and protocol -->
    <%= tag(:link, :rel  => 'canonical', :href => 'https://www.federalregister.gov' + request.fullpath.sub(/\/$/,'')) %>

    <link rel="Shortcut Icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <%= render partial: 'layouts/typekit' %>

    <%= render partial: 'layouts/meta_tags' %>
    <%# Facebook uses these for parsing when someone adds a link  %>
    <%# TODO: for facebook image below, show curated image if present %>
    <link rel="image_src" href="https://www.federalregister.gov/images/fbdisplay.jpg" />

    <%= stylesheet_link_tag asset_path('vendor.css'), media: "all" %>
    <%= stylesheet_link_tag asset_path('application.css'), media: "all" %>
    <%= stylesheet_link_tag asset_path('print.css'), media: "print" %>

    <%= javascript_include_tag asset_path('vendor.js') %>
    <%= javascript_include_tag asset_path('application.js') %>

    <%= yield :javascripts %>
    <%= yield :feeds %>

    <%= add_handlebars_template('flickr_exit_modal') %>
    <%= add_handlebars_template('print_disclaimer') %>

    <!-- email suggestion templates -->
    <%= add_handlebars_template('email_suggestion') %>
    <%= add_handlebars_template('email_invalid') %>

    <!-- comment feature templates -->
    <%= add_handlebars_template('comment_header') %>
    <%= add_handlebars_template('new_comment_byline') %>
    <%= add_handlebars_template('comment_attachment_upload') %>
    <%= add_handlebars_template('comment_attachment_complete') %>
    <%= add_handlebars_template('comment_summary') %>
    <%= add_handlebars_template('comment_preview') %>
    <%= add_handlebars_template('regulations_dot_gov_attachment_requirements') %>
    <%= add_handlebars_template('comment_print_summary') %>

    <!-- tender modal for directing users to proper spots for comment -->
    <%= add_handlebars_template('interstitial_tender_modal') %>

    <!-- subscription modal for selecting from multiple subscription options -->
    <%= add_handlebars_template('subscription_modal') %>

    <!-- external link warning -->
    <%= add_handlebars_template('external_link_warning_modal') %>

    <!-- page specific templates -->
    <%= yield :templates %>
  </head>

  <body id="<%= controller_name %>" class="<%= action_name %>">
    <%= render partial: 'layouts/site_header' %>

    <%= esi site_notification_path(:identifier => :global) %>

    <div id="main">
      <div id="print-disclaimer">
        <%= fr_content_box(
          FrBox.build(
            'public_inspection_document',
            title: 'Legal Status',
            header: { hover: false }
          )
        ) do %>
        <% end %>
      </div>

      <%= yield(:title_bar) %>

      <%= yield %>
    </div>

    <%= esi footer_path %>
  </body>
</html>
